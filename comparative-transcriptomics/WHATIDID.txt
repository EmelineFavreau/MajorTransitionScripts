# 2020-10-04
## Author: Emeline Favreau
## Objective: Running QC steps for all transcriptomics datasets

## Analysis steps:
# Obtaining data
# Aim 1: Run Nextflow QC pipeline
# Aim 2: Calculate basic stats
# Aim 3: TBD

###############################################################################
# Obtaining data

# set project structure
mkdir comparative-transcriptomic
cd comparative-transcriptomic

# create subdirectories for each species
mkdir Liostenogaster-flavolineata
mkdir Mischocyttarus-basimacula
mkdir Polistes-dominula
mkdir Polistes-canadensis
mkdir Metapolybia-cingulata
mkdir Angiopolybia-pallens
mkdir Polybia-occidentalis
mkdir Polybia-quadracincta
mkdir Agelaia-cajennensis
mkdir Brachygastra-mellifica
mkdir Vespa-crabro
mkdir Vespula-vulgaris

# set the config file that will be copied in each subdirectory
vim myriad.config

###############################################################################
# Aim 1: Run Nextflow QC pipeline
# In each subdirectory, the following steps will be done:

# copy raw data from RDS to scratch

# create a readme for each dataset

# run Nextflow with default parameters

# with the aims of obtaining raw read counts (for differential expression) and QC plots

# Scratch space is limited, tidy after failed experiments
find . -type f -size +1G -exec ls -lhS {} \;

###############################################################################
# Aim 2: Calculate basic stats

# for each species, how many reproductive samples vs worker samples?
grep --after-context=1 "# Number of samples for reproductives" */*-raw-reads-readme

Agelaia-cajennensis 1
Angiopolybia-pallens 1
Brachygastra-mellifica 1
Liostenogaster-flavolineata 9
Metapolybia-cingulata 1
Mischocyttarus-basimacula 1
Polistes-canadensis 7
Polistes-dominula 12
Polybia-occidentalis 5
Polybia-quadracincta 3
Vespa-crabro 2
Vespula-vulgaris 5

grep --after-context=1 "# Number of samples for non-reproductives" */*-raw-reads-readme

Agelaia-cajennensis 1
Angiopolybia-pallens 1
Brachygastra-mellifica 1
Liostenogaster-flavolineata 10
Metapolybia-cingulata 1
Mischocyttarus-basimacula 1
Polistes-canadensis 9
Polistes-dominula 12
Polybia-occidentalis 5
Polybia-quadracincta 3
Vespa-crabro 10
Vespula-vulgaris 5


# for each species, how many raw sequences per sample
