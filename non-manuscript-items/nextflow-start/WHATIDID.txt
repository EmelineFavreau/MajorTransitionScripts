# basic test
# testing how nextflow works in github directory
mkdir github/nextflow-first-steps
cd github/nextflow-first-steps

# check java version (8 or above)
java -version

# set up nextflow
# it creates a file nextflow in the current dir)
curl -s https://get.nextflow.io | bash

# Run the classic Hello world
./nextflow run hello

# four versions of hello world were printed, and four directories were created inside work

#####################
# second basic test

# copy script from
# https://www.nextflow.io/docs/latest/getstarted.html#your-first-script
# made it tutorial.nf
vim tutorial.nf

# Execute the script by entering the following command in your terminal:
./nextflow run tutorial.nf

# altering one process in vim
# checking how the pipeline runs only the bit that changed
# first bit has not been run, just using cached information
./nextflow run tutorial.nf -resume

# pipeline parameters on the command line with a double dash
./nextflow run tutorial.nf --str 'Bonjour le monde'

#######################
# learning about some key elements

# processes and channels
# channel is a queue with a logical system of first in, first out
# the link between two processes is the name of the channel (has to be in input of process 2 and output of process 1)

# can run on local computer, or HPC
# written in Groovy-style
# configuration options go in a file nextflow.config in the execution directory
